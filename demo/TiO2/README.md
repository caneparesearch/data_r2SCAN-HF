Demo: r²SCANY@r²SCANX Workflow for TiO₂

This demo illustrates the non‑self‑consistent r²SCANY@r²SCANX calculations for the TiO₂ system, using orbitals generated by a prior r²SCAN static run.

Prerequisites

Python environment with pymatgen installed

VASP inputs in r2SCAN/: POSCAR, POTCAR, KPOINTS, INCAR, and a converged WAVECAR

Submission script vasp_run located in r2SCAN/ (adjust paths if needed)

Workflow Overview

Structural relaxation (r²SCAN)

python prepare_r2scan_relax.py
cd r2SCAN_relax
sbatch vasp_run

Static r²SCAN (orbital generation)

cd r2SCAN
sbatch vasp_run

Hybrid-density r²SCANX runs

python prepare_r2scanx.py

Fractions: 0 (pure r²SCAN), 0.10, 0.25, 0.50, 0.75, 1.00, HF

cd r2SCANY@r2SCANX/r2SCAN25@r2SCAN
sbatch vasp_run

Non‑SCF energies with r²SCANY at r²SCANX orbitals

Script sets up runs in r2SCANY@r2SCANX/

Copies POSCAR, POTCAR, KPOINTS, WAVECAR

Writes INCAR with:

LHFCALC = .TRUE.

AEXX = Y‑fraction (0–100% or HF)

AMGGAC = 0.0 (HF density) or 1.0

ALGO = Eigenval, NELM = 1, etc.

cd r2SCANY@r2SCANX/r2SCANY50@r2SCAN50
sbatch vasp_run

Directory Structure

├── prepare_r2scan_relax.py    # Generates r2SCAN_relax/
├── prepare_r2scanx.py         # Generates r2SCANY@r2SCANX/ runs
├── r2SCAN_relax/              # r²SCAN relaxation inputs & outputs
├── r2SCAN/                    # r²SCAN static run (WAVECAR, INCAR, etc.)
└── r2SCANY@r2SCANX/           # Non‑SCF hybrid-energy runs
    ├── r2SCANY0@r2SCAN/       # 0% HF @ pure r²SCAN
    ├── r2SCANY25@r2SCAN25/    # 25% HF @ r²SCAN25
    └── …

Notes

Restart: All non‑SCF runs use ISTART = 1 and ICHARG = 1 by default

Parallelization: Adjust KPAR and NCORE in prepare_r2scanx.py

Custom fractions: Modify X_VALUES and Y_VALUES in the script

For questions or issues, please open an issue on this repository. Happy computing!